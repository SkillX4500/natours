{"mappings":"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","sources":["<anon>","public/js/index.js","public/js/login.js","public/js/alerts.js","public/js/leaflet.js","public/js/updateSettings.js","public/js/signup.js","public/js/stripe.js"],"sourcesContent":["/* eslint-disable */ /* eslint-disable */ /* eslint-disable */ // type is 'success' or 'error'\nconst $f3cf2ab2d1aa9d0d$export$de026b00723010c1 = (type, msg)=>{\n    $f3cf2ab2d1aa9d0d$var$hideAlert();\n    const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\n    document.querySelector(\"body\").insertAdjacentHTML(\"afterbegin\", markup);\n    setTimeout($f3cf2ab2d1aa9d0d$var$hideAlert, 3000);\n};\nconst $f3cf2ab2d1aa9d0d$var$hideAlert = ()=>{\n    const el = document.querySelector(\".alert\");\n    if (el) el.parentElement.removeChild(el);\n};\n\n\nconst $934f72971f9f0cfb$export$596d806903d1f59e = async (email, password)=>{\n    try {\n        const res = await axios({\n            method: \"post\",\n            url: \"/api/v1/users/login\",\n            data: {\n                email: email,\n                password: password\n            }\n        });\n        if (res.data.status === \"success\") {\n            (0, $f3cf2ab2d1aa9d0d$export$de026b00723010c1)(\"success\", \"You are logged in !\");\n            setTimeout(()=>{\n                location.assign(\"/\");\n            }, 1500);\n        }\n    } catch (err) {\n        (0, $f3cf2ab2d1aa9d0d$export$de026b00723010c1)(\"error\", err.response.data.message);\n    }\n};\nconst $934f72971f9f0cfb$export$a0973bcfe11b05c9 = async ()=>{\n    try {\n        const res = await axios({\n            method: \"get\",\n            url: \"/api/v1/users/logout\"\n        });\n        if (res.data.status === \"success\") setTimeout(()=>{\n            location.assign(\"/\");\n        }, 1000);\n    } catch (error) {\n        console.log(error);\n        (0, $f3cf2ab2d1aa9d0d$export$de026b00723010c1)(\"error\", \"Error logging out. Try again !\");\n    }\n};\n\n\n/* eslint-disable */ const $e96b163f78a3bb31$export$4c5dd147b21b9176 = (locations)=>{\n    const map = L.map(\"map\", {\n        zoomControl: false,\n        center: [\n            38.372,\n            -100.765\n        ],\n        zoom: 13\n    });\n    L.tileLayer(\"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png\", {\n        maxZoom: 19,\n        attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>'\n    }).addTo(map);\n    var greenIcon = L.icon({\n        iconUrl: \"/img/pin.png\",\n        iconSize: [\n            30,\n            40\n        ],\n        iconAnchor: [\n            16,\n            45\n        ],\n        popupAnchor: [\n            0,\n            -50\n        ]\n    });\n    const points = [];\n    locations.forEach((loc)=>{\n        points.push([\n            loc.coordinates[1],\n            loc.coordinates[0]\n        ]);\n        L.marker([\n            loc.coordinates[1],\n            loc.coordinates[0]\n        ], {\n            icon: greenIcon\n        }).addTo(map).bindPopup(`<p>Day ${loc.day}: ${loc.description}</p>`, {\n            autoClose: false,\n            className: \"mapPopup\"\n        }).openPopup();\n    });\n    const bounds = L.latLngBounds(points).pad(0.5);\n    map.flyToBounds(bounds);\n    map.scrollWheelZoom.disable();\n};\n\n\n\nconst $d5f63981c4d0dfea$export$f558026a994b6051 = async (data, type)=>{\n    try {\n        const url = type === \"password\" ? \"/api/v1/users/updateMyPassword\" : \"/api/v1/users/updateMe\";\n        const res = await axios({\n            method: \"PATCH\",\n            url: url,\n            data: data\n        });\n        if (res.data.status === \"success\") (0, $f3cf2ab2d1aa9d0d$export$de026b00723010c1)(\"success\", `${type.toUpperCase()} Updated Successfully!`);\n    } catch (error) {\n        (0, $f3cf2ab2d1aa9d0d$export$de026b00723010c1)(\"error\", error.response.data.message);\n    }\n};\n\n\n\nconst $12eadaf76d30bd7f$export$7200a869094fec36 = async (data)=>{\n    try {\n        const res = await axios({\n            method: \"POST\",\n            url: \"/api/v1/users/signup\",\n            data: data\n        });\n        if (res.data.status === \"success\") {\n            (0, $f3cf2ab2d1aa9d0d$export$de026b00723010c1)(\"success\", \"Welcome to Natours!\");\n            setTimeout(()=>{\n                location.assign(\"/\");\n            }, 1500);\n        }\n    } catch (err) {\n        (0, $f3cf2ab2d1aa9d0d$export$de026b00723010c1)(\"error\", err.response.data.message);\n    }\n};\n\n\n/* eslint-disable */ \nconst $a30b15caf8b989cc$export$8d5bdbf26681c0c2 = async (tourId)=>{\n    try {\n        // get checkout session\n        const session = await axios({\n            method: \"post\",\n            url: `/api/v1/bookings/checkout-session/${tourId}`\n        });\n        // create checkout form + charge credit card\n        location.assign(session.data.session.url);\n    } catch (error) {\n        console.log(error);\n        (0, $f3cf2ab2d1aa9d0d$export$de026b00723010c1)(\"error\", error.message);\n    }\n};\n\n\n// DOM ELEMENTS\nconst $06aa3c3dc4ea2086$var$map = document.getElementById(\"map\");\nconst $06aa3c3dc4ea2086$var$formLogin = document.querySelector(\".form--login\");\nconst $06aa3c3dc4ea2086$var$formSignup = document.querySelector(\".form--signup\");\nconst $06aa3c3dc4ea2086$var$logoutBtn = document.querySelector(\".nav__el--logout\");\nconst $06aa3c3dc4ea2086$var$userDataForm = document.querySelector(\".form-user-data\");\nconst $06aa3c3dc4ea2086$var$userPasswordForm = document.querySelector(\".form-user-password\");\nconst $06aa3c3dc4ea2086$var$bookTourBtn = document.getElementById(\"book-tour\");\n// DELEGATION\nif ($06aa3c3dc4ea2086$var$map) {\n    const locations = JSON.parse($06aa3c3dc4ea2086$var$map.dataset.locations);\n    (0, $e96b163f78a3bb31$export$4c5dd147b21b9176)(locations);\n}\nif ($06aa3c3dc4ea2086$var$formLogin) $06aa3c3dc4ea2086$var$formLogin.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    const email = document.getElementById(\"email\").value;\n    const password = document.getElementById(\"password\").value;\n    (0, $934f72971f9f0cfb$export$596d806903d1f59e)(email, password);\n});\nif ($06aa3c3dc4ea2086$var$formSignup) $06aa3c3dc4ea2086$var$formSignup.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    const name = document.getElementById(\"name\").value;\n    const email = document.getElementById(\"email\").value;\n    const password = document.getElementById(\"password\").value;\n    const passwordConfirm = document.getElementById(\"passwordCon\").value;\n    (0, $12eadaf76d30bd7f$export$7200a869094fec36)({\n        name: name,\n        email: email,\n        password: password,\n        passwordConfirm: passwordConfirm\n    });\n});\nif ($06aa3c3dc4ea2086$var$logoutBtn) $06aa3c3dc4ea2086$var$logoutBtn.addEventListener(\"click\", (0, $934f72971f9f0cfb$export$a0973bcfe11b05c9));\nif ($06aa3c3dc4ea2086$var$userDataForm) $06aa3c3dc4ea2086$var$userDataForm.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    const form = new FormData();\n    form.append(\"name\", document.getElementById(\"name\").value);\n    form.append(\"email\", document.getElementById(\"email\").value);\n    form.append(\"photo\", document.getElementById(\"photo\").files[0]);\n    (0, $d5f63981c4d0dfea$export$f558026a994b6051)(form, \"data\");\n});\nif ($06aa3c3dc4ea2086$var$userPasswordForm) $06aa3c3dc4ea2086$var$userPasswordForm.addEventListener(\"submit\", async (e)=>{\n    e.preventDefault();\n    const passwordCurrent = document.getElementById(\"password-current\").value;\n    const password = document.getElementById(\"password\").value;\n    const passwordConfirm = document.getElementById(\"password-confirm\").value;\n    document.querySelector(\".btn--save-password\").textContent = \"Updating...\";\n    await (0, $d5f63981c4d0dfea$export$f558026a994b6051)({\n        passwordCurrent: passwordCurrent,\n        password: password,\n        passwordConfirm: passwordConfirm\n    }, \"password\");\n    document.querySelector(\".btn--save-password\").textContent = \"Save password\";\n    document.getElementById(\"password-current\").value = \"\";\n    document.getElementById(\"password\").value = \"\";\n    document.getElementById(\"password-confirm\").value = \"\";\n});\nif ($06aa3c3dc4ea2086$var$bookTourBtn) $06aa3c3dc4ea2086$var$bookTourBtn.addEventListener(\"click\", async (e)=>{\n    e.target.textContent = \"Processing...\";\n    await (0, $a30b15caf8b989cc$export$8d5bdbf26681c0c2)(e.target.dataset.tourId);\n});\n\n\n//# sourceMappingURL=index.js.map\n","/* eslint-disable */\r\n\r\nimport 'regenerator-runtime/runtime.js';\r\nimport { login, logout } from './login';\r\nimport { displayMap } from './leaflet';\r\nimport { updateSettings } from './updateSettings';\r\nimport { signup } from './signup';\r\nimport { bookTour } from './stripe';\r\n\r\n// DOM ELEMENTS\r\nconst map = document.getElementById('map');\r\nconst formLogin = document.querySelector('.form--login');\r\nconst formSignup = document.querySelector('.form--signup');\r\nconst logoutBtn = document.querySelector('.nav__el--logout');\r\nconst userDataForm = document.querySelector('.form-user-data');\r\nconst userPasswordForm = document.querySelector('.form-user-password');\r\nconst bookTourBtn = document.getElementById('book-tour');\r\n\r\n// DELEGATION\r\nif (map) {\r\n  const locations = JSON.parse(map.dataset.locations);\r\n  displayMap(locations);\r\n}\r\n\r\nif (formLogin) {\r\n  formLogin.addEventListener('submit', e => {\r\n    e.preventDefault();\r\n\r\n    const email = document.getElementById('email').value;\r\n    const password = document.getElementById('password').value;\r\n\r\n    login(email, password);\r\n  });\r\n}\r\n\r\nif (formSignup) {\r\n  formSignup.addEventListener('submit', e => {\r\n    e.preventDefault();\r\n\r\n    const name = document.getElementById('name').value;\r\n    const email = document.getElementById('email').value;\r\n    const password = document.getElementById('password').value;\r\n    const passwordConfirm = document.getElementById('passwordCon').value;\r\n\r\n    signup({ name, email, password, passwordConfirm });\r\n  });\r\n}\r\n\r\nif (logoutBtn) {\r\n  logoutBtn.addEventListener('click', logout);\r\n}\r\n\r\nif (userDataForm) {\r\n  userDataForm.addEventListener('submit', e => {\r\n    e.preventDefault();\r\n\r\n    const form = new FormData();\r\n\r\n    form.append('name', document.getElementById('name').value);\r\n    form.append('email', document.getElementById('email').value);\r\n    form.append('photo', document.getElementById('photo').files[0]);\r\n\r\n    updateSettings(form, 'data');\r\n  });\r\n}\r\n\r\nif (userPasswordForm) {\r\n  userPasswordForm.addEventListener('submit', async e => {\r\n    e.preventDefault();\r\n\r\n    const passwordCurrent = document.getElementById('password-current').value;\r\n    const password = document.getElementById('password').value;\r\n    const passwordConfirm = document.getElementById('password-confirm').value;\r\n\r\n    document.querySelector('.btn--save-password').textContent = 'Updating...';\r\n\r\n    await updateSettings(\r\n      { passwordCurrent, password, passwordConfirm },\r\n      'password'\r\n    );\r\n    document.querySelector('.btn--save-password').textContent = 'Save password';\r\n    document.getElementById('password-current').value = '';\r\n    document.getElementById('password').value = '';\r\n    document.getElementById('password-confirm').value = '';\r\n  });\r\n}\r\n\r\nif (bookTourBtn) {\r\n  bookTourBtn.addEventListener('click', async e => {\r\n    e.target.textContent = 'Processing...';\r\n    await bookTour(e.target.dataset.tourId);\r\n  });\r\n}\r\n","/* eslint-disable */\r\n\r\nimport { showAlert } from './alerts';\r\n\r\nexport const login = async (email, password) => {\r\n  try {\r\n    const res = await axios({\r\n      method: 'post',\r\n      url: '/api/v1/users/login',\r\n      data: {\r\n        email,\r\n        password,\r\n      },\r\n    });\r\n\r\n    if (res.data.status === 'success') {\r\n      showAlert('success', 'You are logged in !');\r\n      setTimeout(() => {\r\n        location.assign('/');\r\n      }, 1500);\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', err.response.data.message);\r\n  }\r\n};\r\n\r\nexport const logout = async () => {\r\n  try {\r\n    const res = await axios({\r\n      method: 'get',\r\n      url: '/api/v1/users/logout',\r\n    });\r\n    if (res.data.status === 'success')\r\n      setTimeout(() => {\r\n        location.assign('/');\r\n      }, 1000);\r\n  } catch (error) {\r\n    console.log(error);\r\n    showAlert('error', 'Error logging out. Try again !');\r\n  }\r\n};\r\n","/* eslint-disable */\r\n\r\n// type is 'success' or 'error'\r\nexport const showAlert = (type, msg) => {\r\n  hideAlert();\r\n\r\n  const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\r\n  document.querySelector('body').insertAdjacentHTML('afterbegin', markup);\r\n\r\n  setTimeout(hideAlert, 3000);\r\n};\r\n\r\nconst hideAlert = () => {\r\n  const el = document.querySelector('.alert');\r\n  if (el) el.parentElement.removeChild(el);\r\n};\r\n","/* eslint-disable */\r\n\r\nexport const displayMap = locations => {\r\n  const map = L.map('map', {\r\n    zoomControl: false,\r\n    center: [38.372, -100.765],\r\n    zoom: 13,\r\n  });\r\n\r\n  L.tileLayer(\r\n    'https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png',\r\n    {\r\n      maxZoom: 19,\r\n      attribution:\r\n        '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',\r\n    }\r\n  ).addTo(map);\r\n\r\n  var greenIcon = L.icon({\r\n    iconUrl: '/img/pin.png',\r\n    iconSize: [30, 40], // size of the icon\r\n    iconAnchor: [16, 45], // point of the icon which will correspond to marker's location\r\n    popupAnchor: [0, -50], // point from which the popup should open relative to the iconAnchor\r\n  });\r\n\r\n  const points = [];\r\n\r\n  locations.forEach(loc => {\r\n    points.push([loc.coordinates[1], loc.coordinates[0]]);\r\n    L.marker([loc.coordinates[1], loc.coordinates[0]], { icon: greenIcon })\r\n      .addTo(map)\r\n      .bindPopup(`<p>Day ${loc.day}: ${loc.description}</p>`, {\r\n        autoClose: false,\r\n        className: 'mapPopup',\r\n      })\r\n      .openPopup();\r\n  });\r\n\r\n  const bounds = L.latLngBounds(points).pad(0.5);\r\n\r\n  map.flyToBounds(bounds);\r\n  map.scrollWheelZoom.disable();\r\n};\r\n","import { showAlert } from './alerts';\r\n\r\n// type is 'data' or 'password'\r\n// /api/v1/users/updateMyPassword\r\nexport const updateSettings = async (data, type) => {\r\n  try {\r\n    const url =\r\n      type === 'password'\r\n        ? '/api/v1/users/updateMyPassword'\r\n        : '/api/v1/users/updateMe';\r\n\r\n    const res = await axios({\r\n      method: 'PATCH',\r\n      url,\r\n      data,\r\n    });\r\n\r\n    if (res.data.status === 'success') {\r\n      showAlert('success', `${type.toUpperCase()} Updated Successfully!`);\r\n    }\r\n  } catch (error) {\r\n    showAlert('error', error.response.data.message);\r\n  }\r\n};\r\n","import { showAlert } from './alerts';\r\n\r\nexport const signup = async data => {\r\n  try {\r\n    const res = await axios({\r\n      method: 'POST',\r\n      url: '/api/v1/users/signup',\r\n      data,\r\n    });\r\n\r\n    if (res.data.status === 'success') {\r\n      showAlert('success', 'Welcome to Natours!');\r\n      setTimeout(() => {\r\n        location.assign('/');\r\n      }, 1500);\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', err.response.data.message);\r\n  }\r\n};\r\n","/* eslint-disable */\r\n\r\nimport { showAlert } from './alerts';\r\n\r\nexport const bookTour = async tourId => {\r\n  try {\r\n    // get checkout session\r\n    const session = await axios({\r\n      method: 'post',\r\n      url: `/api/v1/bookings/checkout-session/${tourId}`,\r\n    });\r\n\r\n    // create checkout form + charge credit card\r\n    location.assign(session.data.session.url);\r\n  } catch (error) {\r\n    console.log(error);\r\n    showAlert('error', error.message);\r\n  }\r\n};\r\n"],"names":["$f3cf2ab2d1aa9d0d$export$de026b00723010c1","type","msg","$f3cf2ab2d1aa9d0d$var$hideAlert","markup","document","querySelector","insertAdjacentHTML","setTimeout","el","parentElement","removeChild","$934f72971f9f0cfb$export$596d806903d1f59e","email","password","res","axios","method","url","data","status","location","assign","err","response","message","$934f72971f9f0cfb$export$a0973bcfe11b05c9","error","console","log","$d5f63981c4d0dfea$export$f558026a994b6051","toUpperCase","$12eadaf76d30bd7f$export$7200a869094fec36","$a30b15caf8b989cc$export$8d5bdbf26681c0c2","tourId","session","$06aa3c3dc4ea2086$var$map","getElementById","$06aa3c3dc4ea2086$var$formLogin","$06aa3c3dc4ea2086$var$formSignup","$06aa3c3dc4ea2086$var$logoutBtn","$06aa3c3dc4ea2086$var$userDataForm","$06aa3c3dc4ea2086$var$userPasswordForm","$06aa3c3dc4ea2086$var$bookTourBtn","locations","JSON","parse","dataset","map","L","zoomControl","center","zoom","tileLayer","maxZoom","attribution","addTo","greenIcon","icon","iconUrl","iconSize","iconAnchor","popupAnchor","points","forEach","loc","push","coordinates","marker","bindPopup","day","description","autoClose","className","openPopup","bounds","latLngBounds","pad","flyToBounds","scrollWheelZoom","disable","addEventListener","e","preventDefault","value","name","passwordConfirm","form","FormData","append","files","passwordCurrent","textContent","target"],"version":3,"file":"index.js.map","sourceRoot":"../../../"}